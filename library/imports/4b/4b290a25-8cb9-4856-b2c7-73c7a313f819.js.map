{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var pointMgr = require('pointMgr'),\n    chessMgr = require('chessMgr'),\n    socket = window.io('http://localhost:3000');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        backgroundAudio: {\n            default: null,\n            url: cc.AudioClip\n        },\n        pickAudio: {\n            default: null,\n            url: cc.AudioClip\n        },\n        putAudio: {\n            default: null,\n            url: cc.AudioClip\n        },\n        chessDieAudio: {\n            default: null,\n            url: cc.AudioClip\n        },\n        blackChessPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        whiteChessPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        moveAble: false,\n        movingChessName: \"\",\n        movingChessColor: \"\",\n        movingChessIndex: 0,\n        oldPositionX: 0,\n        oldPositionY: 0,\n        currentCanMoveColor: 'black'\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        \n        var getId = window.io('http://localhost:3000/getId');\n\n        socket.on('connected', function(msg) {\n            console.log(msg);\n            socket.on('getUserId', function(id) {\n                // this.uuid = id;\n            });\n        });\n\n        this.initChessToPoint();\n        this.node.on(\"touchstart\", this.onPut, this);\n        this.node.on(\"changePlayer\", this.onChangePlayer, this);\n        this.node.on(\"checkDiePiece\", this.onCheckDiePiece, this);\n        this.node.on('chessMoved', this.onChessMoved, this);\n        this.node.on('chessMoveTo', this.onChessMoveTo, this);\n        \n        socket.on('chessMoveTo', function(moveData) {\n            cc.find('Canvas').emit('chessMoveTo', moveData);\n        });\n    },\n\n    onChessMoved: function(moveData) {\n        console.log(moveData.detail);\n        console.log(moveData.detail.chessNumber, moveData.detail.newPosition);\n        socket.emit('chessMoveTo', moveData.detail);\n    },\n\n    onChessMoveTo: function(e) {\n        let chessNumber = e.detail.chessNumber,\n            newPosition = parseInt(e.detail.newPosition),\n            pointMgr = require('pointMgr'),\n            moveChessNode = cc.find('Canvas').getChildByName('chessPiece'+chessNumber),\n            position = pointMgr.getPosition(parseInt(newPosition));\n        cc.log(newPosition);\n        moveChessNode.runAction(cc.moveTo(0.1, position));\n    },\n\n    onTouchStart: function(e) {\n        // 能够获取属性的类\n        let main = cc.find('Canvas').getComponent('main');\n        cc.log('name:',this.name)\n        // 检测当前走棋对象颜色\n        if(this.chessColor ==  main.currentCanMoveColor) {\n            cc.find('Canvas').emit('pick', this.name);\n            this.runAction(cc.scaleTo(0.1, 1.2, 1.2));\n            cc.log(this.chessColor);\n            main.moveAble = true;\n            main.movingChessName = this.name;\n            main.movingChessColor = this.chessColor;\n            main.movingChessIndex = this.chessIndex;\n            main.oldPositionX = this.x;\n            main.oldPositionY = this.y;\n        } else {\n            alert('还没到你走棋哦！');\n        }\n    },\n    // 捡起棋子\n    onPick: function(e) {\n        if(e.detail !== this.name) {\n            this.runAction(cc.scaleTo(0.1,1, 1));\n            cc.find('Canvas').getComponent('main').moveAble = false;\n        } else {\n            cc.find('Canvas').emit('put', this.name);\n        }\n    },\n    // 交换选手\n    onChangePlayer: function() {\n        // cc.log(this);\n        if(this.currentCanMoveColor == 'black') {   \n            this.currentCanMoveColor = 'white';\n        } else {\n            this.currentCanMoveColor = 'black';\n        }\n    },\n    // 落子\n    onPut: function(e) {\n        let that = this,\n            oldPoint = {x: that.oldPositionX ,y: that.oldPositionY},\n            moveAble = cc.find('Canvas').getComponent('main').moveAble,   // 是否可移动\n            movingChessName = cc.find('Canvas').getComponent('main').movingChessName,   // 可移动的棋子 name\n            movingChessColor = cc.find('Canvas').getComponent('main').movingChessColor,   // 可移动的棋子颜色\n            movingChessIndex = cc.find('Canvas').getComponent('main').movingChessIndex,   // 可移动的棋子编号\n            moveChessNode = cc.find('Canvas').getChildByName(movingChessName),  // 可移动棋子的节点\n            targetPoint = this.node.convertToNodeSpaceAR(e.getLocation()),\n            pointMgr = require('pointMgr'),\n            chessMgr = require('chessMgr');\n\n        // cc.log(oldPoint);\n        pointMgr.isInpoint(targetPoint, function(index) {   // 传递目标坐标，如果在已定义的点范围内则返回该已定义点的索引\n            let pointX = pointMgr.getPoint(index).x, \n                pointY = pointMgr.getPoint(index).y;\n            // cc.log(pointX, pointY)\n            if(pointX && pointY && pointMgr.getStatus(index)) { // 判断是否有棋子，坐标是否存在\n                if(moveChessNode) {\n                    moveChessNode.runAction(cc.moveTo(0.1, pointX, pointY));   // 根据事件传过来的目标点做移动\n                    cc.find('Canvas').getComponent('main').movingChessName = '';  // 清空可走棋子\n                    cc.audioEngine.playEffect(that.putAudio, false);\n                    pointMgr.setStatus(index, false);     // 设置该位置已占用\n                    pointMgr.setColor(index, movingChessColor);     // 设置索引值位置新颜色\n                    that.setOldPosition(oldPoint, index);\n                    if(targetPoint !== oldPoint) {\n                        cc.log('当前移动棋子为：', movingChessIndex, '移动到： ', index);\n                        let moveData = {\n                            chessNumber:movingChessIndex, \n                            newPosition:index\n                        };\n                        cc.find('Canvas').emit('chessMoved', moveData); // 发射 socket 事件\n                        pointMgr.setCurrentPiece(index, movingChessIndex);   // 设置对应位置的棋子编号\n                        cc.find('Canvas').emit('changePlayer', that);    // 发射交换选手事件\n                        // cc.find('Canvas').emit('checkDiePiece', that);    // 发射检查是否需要掐子事件\n                        that.onCheckDiePiece(index, function(pieceNumber, point) {\n                            cc.log(pieceNumber);\n                            if( (pieceNumber !== '') && ( pieceNumber !== -1 )) {\n                                that.node.getChildByName('chessPiece'+pieceNumber).destroy();  // 销毁死亡的棋子节点\n                                cc.log('棋子', pieceNumber, '死亡');\n                                cc.audioEngine.playEffect(that.chessDieAudio, false);\n                                pointMgr.setStatus(point, true);  // 设置棋子已死亡位置可重新落子\n                                chessMgr.setStatus(pieceNumber, true);\n                            }\n                        });\n                    }\n                }\n            }\n        });\n    },\n    // 检查是否需要掐子\n    // @index 为当前位置索引\n    onCheckDiePiece: function(index, callback) {\n        cc.log('移动到了:', index)\n        let pointMgr = require('pointMgr'),\n            chessMgr = require('chessMgr');\n        if(index == 1) {\n            let p1Color = chessMgr.getColor(pointMgr.getCurrentPiece(1)), \n                p0Color = chessMgr.getColor(pointMgr.getCurrentPiece(0)), \n                p7Color = chessMgr.getColor(pointMgr.getCurrentPiece(7)), \n                p2Color = chessMgr.getColor(pointMgr.getCurrentPiece(2)), \n                p3Color = chessMgr.getColor(pointMgr.getCurrentPiece(3));\n            if((p1Color == p7Color) && (p1Color != p0Color) && (p0Color != 'undefined')) {\n                callback(pointMgr.getCurrentPiece(0), 0);\n            } else if((p1Color == p3Color) && (p1Color != p2Color) && (p2Color != 'undefined') ) {\n                callback(pointMgr.getCurrentPiece(2), 2);\n            } \n        }\n        if(index == 3) {\n            let p1Color = chessMgr.getColor(pointMgr.getCurrentPiece(1)), \n                p2Color = chessMgr.getColor(pointMgr.getCurrentPiece(2)), \n                p3Color = chessMgr.getColor(pointMgr.getCurrentPiece(3)),\n                p4Color = chessMgr.getColor(pointMgr.getCurrentPiece(4)), \n                p5Color = chessMgr.getColor(pointMgr.getCurrentPiece(5));\n            if((p1Color == p3Color) && (p1Color != p2Color) && (p2Color != 'undefined')) {\n                callback(pointMgr.getCurrentPiece(2), 2);\n            } else if((p3Color == p5Color) && (p3Color != p4Color) && (p4Color != 'undefined') ) {\n                callback(pointMgr.getCurrentPiece(4), 4);\n            } \n        }\n        if(index == 5) {\n            let p3Color = chessMgr.getColor(pointMgr.getCurrentPiece(3)), \n                p4Color = chessMgr.getColor(pointMgr.getCurrentPiece(4)), \n                p5Color = chessMgr.getColor(pointMgr.getCurrentPiece(5)),\n                p6Color = chessMgr.getColor(pointMgr.getCurrentPiece(6)), \n                p7Color = chessMgr.getColor(pointMgr.getCurrentPiece(7));\n            if((p3Color == p5Color) && (p3Color != p4Color) && (p4Color != 'undefined')) {\n                callback(pointMgr.getCurrentPiece(4), 4);\n            } else if((p5Color == p7Color) && (p5Color != p6Color) && (p6Color != 'undefined') ) {\n                callback(pointMgr.getCurrentPiece(6), 6);\n            } \n        }\n\n        if(index == 7) {\n            let p5Color = chessMgr.getColor(pointMgr.getCurrentPiece(5)), \n                p6Color = chessMgr.getColor(pointMgr.getCurrentPiece(6)), \n                p7Color = chessMgr.getColor(pointMgr.getCurrentPiece(7)),\n                p0Color = chessMgr.getColor(pointMgr.getCurrentPiece(0)), \n                p1Color = chessMgr.getColor(pointMgr.getCurrentPiece(1));\n            if((p5Color == p7Color) && (p5Color != p6Color) && (p6Color != 'undefined')) {\n                callback(pointMgr.getCurrentPiece(6), 6);\n            } else if((p7Color == p1Color) && (p7Color != p0Color) && (p0Color != 'undefined') ) {\n                callback(pointMgr.getCurrentPiece(0), 0);\n            } \n        }\n    },\n\n    setOldPosition: function(oldPoint) {\n        let pointMgr = require('pointMgr');\n        pointMgr.isInpoint(oldPoint, function(index) {\n            pointMgr.setStatus(index, true);        // 设置已移除棋子位置的状态\n            pointMgr.setCurrentPiece(index, -1);\n        });\n    },\n\n    // 初始化放置棋子到默认位置\n    initChessToPoint: function() {\n        let that = this,\n            pointMgr = require('pointMgr'),\n            chessMgr = require('chessMgr');\n        for(let i=0;i<8; i++) {\n            let point = pointMgr.getPoint(i), \n                chessMgrColor = chessMgr.getColor(i),\n                x = point.x, \n                y = point.y;\n\n            if(chessMgrColor == 'white') {\n                let newChess = cc.instantiate(that.whiteChessPrefab);\n                that.node.addChild(newChess);\n                newChess.setPosition(x, y);\n                newChess.name = 'chessPiece'+i;\n                newChess.chessColor = 'white';\n                newChess.chessIndex = i;\n                cc.find('Canvas').on('pick', that.onPick, newChess);\n                newChess.on('touchstart', that.onTouchStart, newChess);\n            }  else if(chessMgrColor == 'black') {\n                let newChess = cc.instantiate(this.blackChessPrefab);\n                that.node.addChild(newChess);\n                newChess.setPosition(x, y);\n                newChess.name = 'chessPiece'+i;\n                newChess.chessColor = 'black';\n                newChess.chessIndex = i;\n                cc.find('Canvas').on('pick', that.onPick, newChess);\n                newChess.on('touchstart', that.onTouchStart, newChess);\n            }\n        }\n    },\n    // 棋子移动\n    chessMove: function(el) {\n        let that = this,\n            isMoving = false;\n        el.on('touchstart', function() {\n            var scaleAction = cc.scaleBy(0.1,1.5, 1.5);\n            this.runAction(scaleAction);\n        }.bind(el));\n    },\n    addNewChess: function() {\n        let chessMgr = require('chessMgr'),\n            x = chessMgr.getPositionX(),\n            y = chessMgr.getPositionY(),\n            newChess = cc.instantiate(this.chessPrefab);\n        this.node.addChild(newChess);\n        console.log(x, y);\n        newChess.setPosition(x, y);\n    },\n\n    update: function() {\n\n    }\n});\n"
  ]
}